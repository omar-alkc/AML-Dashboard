<div class="view-controls">
  <div class="btn-group">
    <button nbButton status="primary" size="small" [class.active]="viewMode === 'category'" (click)="updateViewMode('category')">Category</button>
    <button nbButton status="primary" size="small" [class.active]="viewMode === 'status'" (click)="updateViewMode('status')">Status</button>
  </div>
</div>

<div *ngIf="!loading" class="chart-container">
  <chart type="doughnut" [data]="chartData" [options]="options"></chart>
</div>

<div *ngIf="loading" class="chart-loader">
  <nb-spinner status="primary"></nb-spinner>
</div>
